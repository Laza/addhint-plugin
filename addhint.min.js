// addHint :: little Popup displaying title text, or passed text (can be jQuery element too)
// http://lazaworx.com/addhint-plugin/
var ALIGN_LEFT=ALIGN_TOP=0,ALIGN_CENTER=ALIGN_MIDDLE=1,ALIGN_RIGHT=ALIGN_BOTTOM=2;
(function(b){b.extend(b.support,{touch:"ontouchend"in document});var i=parseFloat(b.browser.version);vendor=b.browser.msie&&9>i&&"-ms-"||b.browser.webkit&&6>i&&"-webkit-"||b.browser.mozilla&&4>i&&"-moz-"||b.browser.opera&&10.5>i&&"-o-"||"";b.fn.alignTo=function(c,a){a=b.extend({},b.fn.alignTo.defaults,a);"string"===typeof c&&(c=b(c));if(c instanceof b&&c.length){var h=c.offset(),j=c.outerWidth(),g=c.outerHeight();return b(this).each(function(){var e=b(this).outerWidth(),f=b(this).outerHeight(),k=
Math.round(h.left+a.toX*j/2+(a.toX-1)*a.gap);ry=Math.round(h.top+a.toY*g/2+(a.toY-1)*a.gap);l=Math.round(k-a.posX*e/2);t=Math.round(ry-a.posY*f/2);0>t?a.toX!==ALIGN_CENTER?t=0:a.toY!==ALIGN_BOTTOM&&(t=h.top+c.outerHeight()+a.gap):t+f>b(window).height()&&(a.toX!==ALIGN_CENTER?t=b(window).height()-f:a.toY!==ALIGN_TOP&&(t=h.top-f-a.gap));0>l?a.toY!==ALIGN_MIDDLE?l=0:a.toX!=ALIGN_RIGHT&&(l=h.left+c.outerWidth()+a.gap):l+e>b(window).width()&&(a.toY!==ALIGN_MIDDLE?l=b(window).width()-e:a.toX!=ALIGN_LEFT&&
(l=h.left-e-a.gap));b(this).css({position:"absolute",left:l,top:t})})}};b.fn.alignTo.defaults={gap:5,posX:ALIGN_CENTER,posY:ALIGN_BOTTOM,toX:ALIGN_CENTER,toY:ALIGN_TOP};b.fn.addHint=function(c,a){c&&"string"!==typeof c&&!c.jquery&&(a=c,c=null);var a=b.extend({},b.fn.addHint.defaults,a),h=function(){var c=b("#"+a.id);c.length||(c=b("<div>",{id:a.id}).css(a.css).css({position:"absolute"}).css(vendor+"box-shadow","1px 2px 5px rgba(0,0,0,0.25)").css(vendor+"border-radius","4px").appendTo("body"));return c};
return this.each(function(){var j=b(this),g=c||j.attr("title"),e,f=!1,k=!1,i=!(g&&g.jquery),d;if(g&&g.length){var m=function(){i?(d=h(),d.empty().html(g)):d=g.show();d.off("mouseover",c);d.off("mouseout",m);var c=function(){e=clearTimeout(e);f=!0;d.stop(!0,!0).css({opacity:1}).show()},m=function(){k||(e=clearTimeout(e),f=!1,n())};d.on("mouseover",c);d.on("mouseout",m);d.find("input").focus(function(){k=!0;c()}).blur(function(){k=!1});d.stop(!0,!0).show().alignTo(j,{posX:a.posX,posY:a.posY,toX:a.toX,
toY:a.toY,gap:a.gap}).css({opacity:0}).animate({opacity:1},200);b.support.touch?e=setTimeout(n,a.stay):f=!0},o=function(){f=!1;e=clearTimeout(e);n()},n=function(){!f&&d&&d.length&&d.stop(!0,!1).animate({opacity:0},200,function(){b(this).hide()})};g.jquery||j.removeAttr("title");j.on(b.support.touch?{touchstart:m}:{"focus mouseenter":m,"blur mouseleave":o})}})};b.fn.addHint.defaults={id:"hint",stay:3E3,posX:ALIGN_CENTER,posY:ALIGN_BOTTOM,toX:ALIGN_CENTER,toY:ALIGN_TOP,gap:5,css:{padding:"0.5em 0.75em",
backgroundColor:"rgba(255,240,170,0.9)",color:"#000",maxWidth:"200px",zIndex:99999}}})(jQuery);
